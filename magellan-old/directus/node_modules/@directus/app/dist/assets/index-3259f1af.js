import{T as pe,d as ve,w as Ce}from"./vue.runtime.esm-bundler-dbfb2032.js";import{u as Le,a as _e,g as fe,_ as B,b as se,c as X,d as ae,e as Ve,M as De,t as Oe,f as Ne,h as Ue,i as Be,j as ue,l as Ee,p as Me,k as Ae,m as te,n as je,o as Re,q as ce,r as de,s as Te,v as He,H as Pe}from"./index.f8ba9f9b.entry.js";import{l as oe}from"./use-sync-5cbb6423.js";import{storeToRefs as ne}from"./pinia.e7919e7d.entry.js";import{useI18n as W}from"./vue-i18n.01a7b86c.entry.js";import{useRouter as me}from"./vue-router.52791413.entry.js";import{d as E,c as C,r as $,m as ie,w as J,a as r,B as K,C as H,o as a,e as _,y as i,b as S,F as Y,z as l,f as A,u as V,v as M,H as ge,q as U,t as O,A as Z,n as qe,O as F,M as ye,h as Fe,j as We,p as ze,D as I,I as Ge,K as Qe,L as Xe,E as Ke,G as Je}from"./runtime-core.esm-bundler-becf0084.js";const Ye=E({setup(){const{t:e}=W(),t=Le(),c=_e(),d=C(()=>{var u;return c.settings===null||!((u=c.settings)!=null&&u.project_logo)?null:`${fe()}assets/${c.settings.project_logo}`}),s=$(!1),{queueHasItems:p}=ie(t);J(()=>p.value,u=>{u&&(s.value=!0)});const o=C(()=>{var u;return(u=c.settings)==null?void 0:u.project_url}),n=C(()=>{var u;return(u=c.settings)!=null&&u.project_url?e("view_project"):!1});return{customLogoPath:d,showLoader:s,stopSpinnerIfQueueIsEmpty:v,url:o,urlTooltip:n};function v(){p.value===!1&&(s.value=!1)}}});const Ze=["src"];function xe(e,t,c,d,s,p){const o=r("v-progress-linear"),n=K("tooltip");return H((a(),_(ge(e.url?"a":"div"),{href:e.url,target:e.url?"_blank":void 0,rel:e.url?"noopener noreferrer":void 0,class:M(["module-bar-logo",{loading:e.showLoader}])},{default:i(()=>[e.customLogoPath?(a(),S(Y,{key:0},[l(pe,{name:"fade"},{default:i(()=>[e.showLoader?(a(),_(o,{key:0,indeterminate:"",rounded:"",onAnimationiteration:e.stopSpinnerIfQueueIsEmpty},null,8,["onAnimationiteration"])):A("",!0)]),_:1}),V("img",{class:"custom-logo",src:e.customLogoPath,alt:"Project Logo"},null,8,Ze)],64)):(a(),S("div",{key:1,class:M(["logo",{running:e.showLoader}]),onAnimationiteration:t[0]||(t[0]=(...v)=>e.stopSpinnerIfQueueIsEmpty&&e.stopSpinnerIfQueueIsEmpty(...v))},null,34))]),_:1},8,["href","target","rel","class"])),[[n,e.urlTooltip,void 0,{right:!0}]])}const et=B(Ye,[["render",xe],["__scopeId","data-v-06d0e81e"]]),tt=E({setup(){const{t:e}=W(),t=se(),c=X(),{notificationsDrawerOpen:d}=ne(t),{unread:s}=ne(c),p=ae(),o=$(!1),n=C(()=>{var h;return!p.currentUser||!("avatar"in p.currentUser)||!((h=p.currentUser)!=null&&h.avatar)?null:Ve(`${fe()}assets/${p.currentUser.avatar.id}?key=system-medium-cover`)}),v=$(null),u=C(()=>{var y;return`/users/${(y=p.currentUser)==null?void 0:y.id}`}),g=C(()=>"/logout"),f=p.fullName??void 0;return{t:e,userFullName:f,avatarURL:n,userProfileLink:u,signOutActive:o,signOutLink:g,notificationsDrawerOpen:d,unread:s,avatarError:v}}});const ot={class:"module-bar-avatar"},nt=["src","alt"];function st(e,t,c,d,s,p){const o=r("v-icon"),n=r("v-button"),v=r("v-badge"),u=r("v-card-title"),g=r("v-card-actions"),f=r("v-card"),h=r("v-dialog"),y=r("v-avatar"),T=r("router-link"),N=r("v-hover"),L=K("tooltip");return a(),S("div",ot,[l(v,{value:e.unread,disabled:e.unread==0,class:"notifications-badge"},{default:i(()=>[H((a(),_(n,{tile:"",icon:"","x-large":"",class:"notifications",onClick:t[0]||(t[0]=j=>e.notificationsDrawerOpen=!0)},{default:i(()=>[l(o,{name:"notifications"})]),_:1})),[[L,e.t("notifications"),void 0,{right:!0}]])]),_:1},8,["value","disabled"]),l(N,null,{default:i(({hover:j})=>[l(h,{modelValue:e.signOutActive,"onUpdate:modelValue":t[2]||(t[2]=b=>e.signOutActive=b),onEsc:t[3]||(t[3]=b=>e.signOutActive=!1)},{activator:i(({on:b})=>[l(pe,{name:"sign-out"},{default:i(()=>[j?H((a(),_(n,{key:0,tile:"",icon:"","x-large":"",class:"sign-out",onClick:b},{default:i(()=>[l(o,{name:"logout"})]),_:2},1032,["onClick"])),[[L,e.t("sign_out"),void 0,{right:!0}]]):A("",!0)]),_:2},1024)]),default:i(()=>[l(f,null,{default:i(()=>[l(u,null,{default:i(()=>[U(O(e.t("sign_out_confirm")),1)]),_:1}),l(g,null,{default:i(()=>[l(n,{secondary:"",onClick:t[1]||(t[1]=b=>e.signOutActive=!e.signOutActive)},{default:i(()=>[U(O(e.t("cancel")),1)]),_:1}),l(n,{to:e.signOutLink},{default:i(()=>[U(O(e.t("sign_out")),1)]),_:1},8,["to"])]),_:1})]),_:1})]),_:2},1032,["modelValue"]),l(T,{to:e.userProfileLink},{default:i(()=>[H((a(),_(y,{tile:"",large:"",class:M({"no-avatar":!e.avatarURL})},{default:i(()=>[e.avatarURL&&!e.avatarError?(a(),S("img",{key:0,src:e.avatarURL,alt:e.userFullName,class:"avatar-image",onError:t[4]||(t[4]=b=>e.avatarError=b)},null,40,nt)):(a(),_(o,{key:1,name:"account_circle"}))]),_:1},8,["class"])),[[L,e.userFullName,void 0,{right:!0}]])]),_:1},8,["to"])]),_:1})])}const at=B(tt,[["render",st],["__scopeId","data-v-01e2b782"]]),it=E({components:{ModuleBarLogo:et,ModuleBarAvatar:at},setup(){const e=_e(),{modules:t}=Ne(),c=C(()=>t.value.map(s=>s.id));return{modules:C(()=>e.settings?(e.settings.module_bar??De).filter(s=>s.type==="link"?!0:s.enabled&&c.value.includes(s.id)).map(s=>{if(s.type==="link"){const o=oe.omit(s,["url"]);return s.url.startsWith("/")?o.to=s.url:o.href=s.url,Oe(o)}const p=t.value.find(o=>o.id===s.id);return{...s,...t.value.find(o=>o.id===s.id),to:`/${p.id}`}}):[])}}});const rt={class:"module-bar"},lt={class:"modules"};function ut(e,t,c,d,s,p){const o=r("module-bar-logo"),n=r("v-icon"),v=r("v-button"),u=r("module-bar-avatar"),g=K("tooltip");return a(),S("div",rt,[l(o),V("div",lt,[(a(!0),S(Y,null,Z(e.modules,f=>H((a(),_(v,{key:f.id,icon:"","x-large":"",to:f.to,href:f.href,tile:"",style:qe(f.color?{"--v-button-color-active":f.color}:null)},{default:i(()=>[l(n,{name:f.icon},null,8,["name"])]),_:2},1032,["to","href","style"])),[[g,f.name,void 0,{right:!0}]])),128))]),l(u)])}const ct=B(it,[["render",ut],["__scopeId","data-v-d5a6aca5"]]),dt=E({setup(){const{t:e}=W(),{parsedInfo:t}=Ue(),c=X(),d=ae(),s=C(()=>c.dialogs);return{t:e,notifications:s,admin:d.isAdmin,done:o,getGitHubIssueLink:p};function p(n){var u,g,f,h;const v=`<!-- Please put a detailed explanation of the problem here. -->

---

### Project details
Directus Version: ${(u=t.value)==null?void 0:u.directus.version}
Environment: production
OS: ${(g=t.value)==null?void 0:g.os.type} ${(f=t.value)==null?void 0:f.os.version}
Node: ${(h=t.value)==null?void 0:h.node.version}

### Error

Title: ${n.title||"none"}
Message: ${n.text||"none"}

<details>
<summary>Stack Trace</summary>
<pre>
${JSON.stringify(n.error,Object.getOwnPropertyNames(n.error),2)}
</pre>
</details>
			`;return`https://github.com/directus/directus/issues/new?body=${encodeURIComponent(v)}`}function o(n){c.remove(n)}}});const pt={class:"notification-dialogs"},vt=["href"];function _t(e,t,c,d,s,p){const o=r("v-card-title"),n=r("v-error"),v=r("v-card-text"),u=r("v-button"),g=r("v-card-actions"),f=r("v-card"),h=r("v-dialog");return a(),S("div",pt,[(a(!0),S(Y,null,Z(e.notifications,y=>(a(),_(h,{key:y.id,"model-value":!0,persist:""},{default:i(()=>[l(f,{class:M([y.type])},{default:i(()=>[l(o,null,{default:i(()=>[U(O(y.title),1)]),_:2},1024),y.text||y.error?(a(),_(v,{key:0},{default:i(()=>[U(O(y.text)+" ",1),y.error?(a(),_(n,{key:0,error:y.error},null,8,["error"])):A("",!0)]),_:2},1024)):A("",!0),l(g,null,{default:i(()=>[y.type==="error"&&e.admin&&y.code==="UNKNOWN"?(a(),_(u,{key:0,secondary:""},{default:i(()=>[V("a",{target:"_blank",href:e.getGitHubIssueLink(y)},O(e.t("report_error")),9,vt)]),_:2},1024)):A("",!0),l(u,{onClick:T=>e.done(y.id)},{default:i(()=>[U(O(e.t("dismiss")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024))),128))])}const ft=B(dt,[["render",_t],["__scopeId","data-v-d93b3c32"]]),mt=E({props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=W(),c=se(),d=ae(),s=X(),p=Be(),o=me(),n=$([]),v=$(0),u=$(!1),g=$(null),f=$([]),h=$(["inbox"]),{notificationsDrawerOpen:y}=ne(c),T=$([{text:t("subject"),value:"subject",sortable:!1,width:300,align:"left"},{text:t("timestamp"),value:"timestampDistance",sortable:!1,width:180,align:"left"}]);return N(),J([()=>e.modelValue,h],()=>N()),{tableHeaders:T,t,notificationsDrawerOpen:y,page:v,notifications:n,loading:u,error:g,selection:f,onRowClick:j,toggleArchive:L,tab:h};async function N(){u.value=!0;try{const b=await ue.get("/notifications",{params:{filter:{_and:[{recipient:{_eq:d.currentUser.id}},{status:{_eq:h.value[0]}}]},fields:["id","subject","collection","item","timestamp"],sort:["-timestamp"]}});await s.getUnreadCount();const P=b.data.data,q=[];for(const z of P)q.push({...z,timestampDistance:Ee(Me(z.timestamp),new Date,{addSuffix:!0})});n.value=q}catch(b){g.value=b}finally{u.value=!1}}async function L(){await ue.patch("/notifications",{keys:f.value.map(({id:b})=>b),data:{status:h.value[0]==="inbox"?"archived":"inbox"}}),await N(),f.value=[]}function j({item:b}){var q;const P=p.getCollection(b.collection);(q=P==null?void 0:P.meta)!=null&&q.singleton?o.push(`/content/${b.collection}`):o.push(`/content/${b.collection}/${b.item}`),y.value=!1}}});function gt(e,t,c,d,s,p){const o=r("v-icon"),n=r("v-button"),v=r("v-list-item-icon"),u=r("v-list-item-content"),g=r("v-tab"),f=r("v-tabs"),h=r("v-info"),y=r("v-table"),T=r("v-drawer"),N=K("tooltip");return a(),_(T,{modelValue:e.notificationsDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=L=>e.notificationsDrawerOpen=L),icon:"notifications",title:e.t("notifications"),onCancel:t[4]||(t[4]=L=>e.notificationsDrawerOpen=!1)},{actions:i(()=>[H((a(),_(n,{icon:"",rounded:"",disabled:e.selection.length===0,secondary:"",onClick:e.toggleArchive},{default:i(()=>[l(o,{name:e.tab[0]==="inbox"?"archive":"move_to_inbox"},null,8,["name"])]),_:1},8,["disabled","onClick"])),[[N,e.tab[0]==="inbox"?e.t("archive"):e.t("unarchive"),void 0,{bottom:!0}]])]),sidebar:i(()=>[l(f,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=L=>e.tab=L),vertical:""},{default:i(()=>[l(g,{value:"inbox"},{default:i(()=>[l(v,null,{default:i(()=>[l(o,{name:"inbox"})]),_:1}),l(u,null,{default:i(()=>[U(O(e.t("inbox")),1)]),_:1})]),_:1}),l(g,{value:"archived"},{default:i(()=>[l(v,null,{default:i(()=>[l(o,{name:"archive"})]),_:1}),l(u,null,{default:i(()=>[U(O(e.t("archive")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:i(()=>[!e.loading&&e.notifications.length===0?(a(),_(h,{key:0,icon:"notifications",title:e.t("no_notifications"),center:""},{default:i(()=>[U(O(e.t("no_notifications_copy")),1)]),_:1},8,["title"])):(a(),_(y,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=L=>e.selection=L),headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=L=>e.tableHeaders=L),"show-select":"",loading:e.loading,items:e.notifications,"item-key":"id","onClick:row":e.onRowClick},null,8,["modelValue","headers","loading","items","onClick:row"]))]),_:1},8,["modelValue","title"])}const yt=B(mt,[["render",gt],["__scopeId","data-v-ab4574fe"]]),$t=E({props:{id:{type:String,required:!0},title:{type:String,required:!0},text:{type:String,default:null},icon:{type:String,default:null},type:{type:String,default:"info",validator:e=>["info","success","warning","error"].includes(e)},tail:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},progress:{type:Number,default:void 0}},setup(e){const t=X();return{close:c};function c(){e.showClose===!0&&t.remove(e.id)}}});const bt={key:0,class:"icon"},ht={class:"content"},wt={class:"title selectable"},kt={key:0,class:"text selectable"};function St(e,t,c,d,s,p){const o=r("v-progress-circular"),n=r("v-icon");return a(),S("div",{class:M(["notification-item",[e.type,{tail:e.tail,dense:e.dense}]]),onClick:t[0]||(t[0]=(...v)=>e.close&&e.close(...v))},[e.loading||e.progress||e.icon?(a(),S("div",bt,[e.loading?(a(),_(o,{key:0,indeterminate:"",small:""})):e.progress?(a(),_(o,{key:1,small:"",value:e.progress},null,8,["value"])):(a(),_(n,{key:2,name:e.icon},null,8,["name"]))])):A("",!0),V("div",ht,[V("p",wt,O(e.title),1),e.text?(a(),S("p",kt,O(e.text),1)):A("",!0)]),e.showClose?(a(),_(n,{key:1,name:"close",clickable:"",class:"close",onClick:e.close},null,8,["onClick"])):A("",!0)],2)}const $e=B($t,[["render",St],["__scopeId","data-v-747a928d"]]),It=E({components:{NotificationItem:$e},props:{sidebarOpen:{type:Boolean,default:!1}},setup(){const e=X();return{queue:ie(e).queue}}});function Ct(e,t,c,d,s,p){const o=r("notification-item");return a(),_(ve,{class:M(["notifications-group",{"sidebar-open":e.sidebarOpen}]),name:"slide-fade",tag:"div"},{default:i(()=>[F(e.$slots,"default",{},void 0,!0),(a(!0),S(Y,null,Z(e.queue,(n,v)=>(a(),_(o,ye({key:n.id},n,{tail:v===e.queue.length-1,dense:e.sidebarOpen===!1,"show-close":n.persist===!0&&n.closeable!==!1}),null,16,["tail","dense","show-close"]))),128))]),_:3},8,["class"])}const Lt=B(It,[["render",Ct],["__scopeId","data-v-96e092f9"]]),Vt=E({props:{to:{type:String,default:null},icon:{type:String,default:"box"},active:{type:Boolean,default:!1}},emits:["click"],setup(){const e=se(),{sidebarOpen:t}=ie(e);return{sidebarOpen:t}}});const Dt={class:"icon"},Ot={key:0,class:"title"};function Nt(e,t,c,d,s,p){const o=r("v-icon");return a(),_(ge(e.to?"router-link":"button"),{class:M(["sidebar-button",{active:e.active}]),onClick:t[0]||(t[0]=n=>e.$emit("click",n))},{default:i(()=>[V("div",Dt,[l(o,{name:e.icon},null,8,["name"])]),e.sidebarOpen?(a(),S("div",Ot,[F(e.$slots,"default",{},void 0,!0)])):A("",!0)]),_:3},8,["class"])}const Ut=B(Vt,[["render",Nt],["__scopeId","data-v-a096d611"]]),Bt=E({components:{SidebarButton:Ut,NotificationItem:$e},props:{sidebarOpen:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(){const{t:e}=W(),t=X();return{t:e,lastFour:t.lastFour}}});const Et={class:"notifications-preview"},Mt={key:0,class:"inline"},At={class:"padding-box"};function jt(e,t,c,d,s,p){const o=r("router-link"),n=r("notification-item"),v=r("transition-expand"),u=r("sidebar-button"),g=K("tooltip");return a(),S("div",Et,[l(v,{tag:"div"},{default:i(()=>[e.modelValue?(a(),S("div",Mt,[V("div",At,[l(o,{class:M(["link",{"has-items":e.lastFour.length>0}]),to:"/activity"},{default:i(()=>[U(O(e.t("show_all_activity")),1)]),_:1},8,["class"]),l(ve,{tag:"div",name:"notification",class:"transition"},{default:i(()=>[(a(!0),S(Y,null,Z(e.lastFour,f=>(a(),_(n,ye({key:f.id},f),null,16))),128))]),_:1})])])):A("",!0)]),_:1}),H((a(),_(u,{active:e.modelValue,class:"toggle",icon:"pending_actions",onClick:t[0]||(t[0]=f=>e.$emit("update:modelValue",!e.modelValue))},{default:i(()=>[U(O(e.t("activity_log")),1)]),_:1},8,["active"])),[[g,e.t("activity_log"),void 0,{left:!0}]])])}const Rt=B(Bt,[["render",jt],["__scopeId","data-v-243bee4a"]]),Tt=E({setup(){const{t:e}=W(),t=Ae(),c=C(()=>{const n=oe.sortBy(t.latency,["timestamp"]);return n[n.length-1]}),d=C(()=>{if(!t.latency||t.latency.length===0)return 0;const n=oe.sortBy(t.latency,["timestamp"]),v=n.slice(Math.max(n.length-5,0));let u=0;for(const{latency:g}of v)u+=g;return Math.round(u/v.length)}),s=C(()=>d.value<=250?4:d.value>250&&d.value<=500?3:d.value>500&&d.value<=750?2:1),p=C(()=>{switch(s.value){case 4:return`${e("connection_excellent")}
(${te(d.value)} ${e("latency")})`;case 3:return`${e("connection_good")}
(${te(d.value)} ${e("latency")})`;case 2:return`${e("connection_fair")}
(${te(d.value)} ${e("latency")})`;case 1:return`${e("connection_poor")}
(${te(d.value)} ${e("latency")})`;default:return null}});return{icon:C(()=>{switch(s.value){case 4:return"signal_wifi_4_bar";case 3:return"signal_wifi_3_bar";case 2:return"signal_wifi_2_bar";case 1:return"signal_wifi_1_bar";default:return null}}),lastLatency:c,latencyTooltip:p}}});const Ht={class:"latency-indicator"};function Pt(e,t,c,d,s,p){const o=r("v-progress-circular"),n=r("v-icon"),v=K("tooltip");return H((a(),S("div",Ht,[e.lastLatency?(a(),_(n,{key:1,name:e.icon},null,8,["name"])):(a(),_(o,{key:0,indeterminate:""}))])),[[v,e.latencyTooltip,void 0,{bottom:!0,end:!0}]])}const qt=B(Tt,[["render",Pt],["__scopeId","data-v-0c7988ea"]]),Ft=E({components:{LatencyIndicator:qt},setup(){const e=je(),t=C(()=>{var d,s;return(s=(d=e.info)==null?void 0:d.project)==null?void 0:s.project_name}),c=C(()=>{var d,s;return(s=(d=e.info)==null?void 0:d.project)==null?void 0:s.project_descriptor});return{name:t,descriptor:c}}});const Wt={class:"project-info"},zt={class:"name-container"};function Gt(e,t,c,d,s,p){const o=r("latency-indicator"),n=r("v-text-overflow");return a(),S("div",Wt,[l(o),V("div",zt,[l(n,{placement:"right",class:"name",text:e.name},null,8,["text"]),e.descriptor?(a(),_(n,{key:0,placement:"right",class:"descriptor",text:e.descriptor},null,8,["text"])):A("",!0)])])}const Qt=B(Ft,[["render",Gt],["__scopeId","data-v-83fb9d28"]]),Xt=E({props:{sidebarOpen:{type:Boolean,default:!1}},setup(e){const t=$([]),c=$(!1);return J(()=>e.sidebarOpen,async d=>{d===!1?t.value=[]:(c.value=!0,await Fe(),c.value=!1)}),{openDetail:t,mandatory:c}}});function Kt(e,t,c,d,s,p){const o=r("v-item-group");return a(),_(o,{modelValue:e.openDetail,"onUpdate:modelValue":t[0]||(t[0]=n=>e.openDetail=n),class:"sidebar-detail-group",scope:"sidebar-detail",mandatory:e.mandatory},{default:i(()=>[F(e.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","mandatory"])}const Jt=B(Xt,[["render",Kt],["__scopeId","data-v-8d500103"]]),Yt=e=>(Ke("data-v-9dbefec9"),e=e(),Je(),e),Zt={class:"module-nav-content"},xt={class:"flex-container"},eo=Yt(()=>V("div",{class:"spacer"},null,-1)),to=E({__name:"private-view",props:{title:{default:null},smallHeader:{type:Boolean,default:!1}},setup(e){const t=e,{t:c}=W(),d=me(),s=$(),p=$(),{width:o}=Re(),{width:n}=ce(s),{width:v}=ce(p),u=$(),{handleHover:g,onResizeHandlePointerDown:f,resetModuleNavWidth:h,onPointerMove:y,onPointerUp:T}=he();de(window,"pointermove",y),de(window,"pointerup",T);const{data:N}=Te("module-nav-width");We(()=>{N.value&&(Number.isNaN(N.value)||(u.value.style.width=`${N.value}px`))});const{title:L}=ie(t),j=$(!1),b=ae(),P=se(),q=C(()=>{var k,m;return b.currentUser?((m=(k=b.currentUser)==null?void 0:k.role)==null?void 0:m.app_access)||!1:!0}),z=$(!1),{sidebarOpen:R,fullScreen:le}=ne(P),be=C(()=>{var k;return((k=b.currentUser)==null?void 0:k.theme)||"auto"});ze("main-element",s),d.afterEach(()=>{var k;(k=s.value)==null||k.scrollTo({top:0}),le.value=!1}),He(L);function he(){const k=$(!1),m=$(!1),x=$(0),ee=$(0),D=$(null),w=$(0),G=$(null);return J(D,oe.debounce(Q=>{Q===220?N.value=null:N.value=Q},300)),J([o,n,v],()=>{o.value>1260?w.value=o.value-(590+60+v.value):o.value>960?w.value=o.value-(590+60+60):w.value=o.value-(60+60),D.value&&D.value>w.value&&(D.value=Math.max(220,w.value),u.value.style.width=`${D.value}px`)},{immediate:!0}),{handleHover:k,onResizeHandlePointerDown:re,resetModuleNavWidth:ke,onPointerMove:Se,onPointerUp:Ie};function re(Q){m.value=!0,x.value=Q.pageX,ee.value=u.value.offsetWidth}function ke(){D.value=220,u.value.style.width="220px"}function Se(Q){m.value&&(G.value=window.requestAnimationFrame(()=>{D.value=Math.max(220,ee.value+(Q.pageX-x.value)),D.value>=w.value&&(D.value=w.value),D.value>220&&D.value<=230&&(D.value=220),u.value.style.width=`${D.value}px`}))}function Ie(){m.value===!0&&(m.value=!1,G.value&&window.cancelAnimationFrame(G.value))}}function we(k){k.target&&k.target.classList.contains("close")===!1&&(R.value=!0)}return(k,m)=>{const x=r("v-button"),ee=r("v-info"),D=r("v-overlay");return I(q)===!1?(a(),_(ee,{key:0,center:"",title:I(c)("no_app_access"),type:"danger",icon:"block"},{append:i(()=>[l(x,{to:"/logout"},{default:i(()=>[U(O(I(c)("switch_user")),1)]),_:1})]),default:i(()=>[U(O(I(c)("no_app_access_copy"))+" ",1)]),_:1},8,["title"])):(a(),S("div",{key:1,class:M(["private-view",{theme:I(be),"full-screen":I(le)}])},[V("aside",{id:"navigation",role:"navigation","aria-label":"Module Navigation",class:M({"is-open":j.value})},[l(ct),V("div",{ref_key:"moduleNavEl",ref:u,class:"module-nav alt-colors"},[l(Qt),V("div",Zt,[F(k.$slots,"navigation",{},void 0,!0)]),V("div",{class:M(["module-nav-resize-handle",{active:I(g)}]),onPointerenter:m[0]||(m[0]=w=>g.value=!0),onPointerleave:m[1]||(m[1]=w=>g.value=!1),onPointerdown:m[2]||(m[2]=Ce((...w)=>I(f)&&I(f)(...w),["self"])),onDblclick:m[3]||(m[3]=(...w)=>I(h)&&I(h)(...w))},null,34)],512)],2),V("div",{id:"main-content",ref_key:"contentEl",ref:s,class:"content"},[l(Pe,{small:e.smallHeader,"show-sidebar-toggle":"",title:I(L),"onToggle:sidebar":m[4]||(m[4]=w=>R.value=!I(R)),onPrimary:m[5]||(m[5]=w=>j.value=!j.value)},Ge({_:2},[Z(k.$slots,(w,G)=>({name:G,fn:i(re=>[F(k.$slots,G,Qe(Xe(re)),void 0,!0)])}))]),1032,["small","title"]),V("main",null,[F(k.$slots,"default",{},void 0,!0)])],512),V("aside",{id:"sidebar",ref_key:"sidebarEl",ref:p,role:"contentinfo",class:M(["alt-colors",{"is-open":I(R)}]),"aria-label":"Module Sidebar",onClick:we},[V("div",xt,[l(Jt,{"sidebar-open":I(R)},{default:i(()=>[F(k.$slots,"sidebar",{},void 0,!0)]),_:3},8,["sidebar-open"]),eo,l(Rt,{modelValue:z.value,"onUpdate:modelValue":m[6]||(m[6]=w=>z.value=w),"sidebar-open":I(R)},null,8,["modelValue","sidebar-open"])])],2),l(D,{class:"nav-overlay",active:j.value,onClick:m[7]||(m[7]=w=>j.value=!1)},null,8,["active"]),l(D,{class:"sidebar-overlay",active:I(R),onClick:m[8]||(m[8]=w=>R.value=!1)},null,8,["active"]),l(yt),z.value===!1?(a(),_(Lt,{key:0,"sidebar-open":I(R)},null,8,["sidebar-open"])):A("",!0),l(ft)],2))}}});const uo=B(to,[["__scopeId","data-v-9dbefec9"]]);export{uo as PrivateView,uo as default};
